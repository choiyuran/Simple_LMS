# 📖 센텀대학교 학사관리시스템

![test](https://github.com/choiyuran/Simple_LMS/assets/44068819/943786a4-19ac-4d1f-8915-6a0c293c6186)

- 배포 URL : http://센텀대학교.kro.kr

### 교직원 Test계정

- Test ID : FCACvnEA0@example.com
- Test PW : qwe@1234

### 교수 Test 계정

- Test ID : nidgvQVz57@example.com
- Test PW : 3567811

### 학생 Test 계정

- Test ID : 24000004
- Test PW : 9416473

<br>

## 목차

1. [프로젝트 소개](#프로젝트-소개)
2. [팀원 구성](#팀원-구성)
3. [개발 환경](#1-개발-환경)
4. [채택한 개발 기술과 브랜치 전략](#2-채택한-개발-기술과-브랜치-전략)
5. [프로젝트 구조](#3-프로젝트-구조)
6. [역할 분담](#4-역할-분담)
7. [개발 기간 및 작업 관리](#5-개발-기간-및-작업-관리)
8. [신경 쓴 부분](#6-신경-쓴-부분)
9. [페이지별 기능](#7-페이지별-기능)
10. [트러블 슈팅](#8-트러블-슈팅)
11. [개선 목표](#9-개선-목표)
12. [프로젝트 후기](#10-프로젝트-후기)

<br/>

---

## 프로젝트 소개

<aside>

💡 대학교 내 학사 및 학습 관리의 편리성과 효율성을 극대화하기 위해 팀 단위로 개발된 스마트 학사/학습 관리 시스템(LMS)을 제공하는 서비스입니다. 이 시스템을 통해 대학교에서 발생하는 학기 별 주요 이벤트들을
보다 쉽고 효율적으로 관리할 수 있습니다.

</aside>

### 프로젝트 개요

<aside>

❓ **주요 기능**

- 학생 관리 : 학생들의 개인정보, 성적, 등록금 등을 관리하고 조회할 수 있는 기능
- 교수 / 강의 관리 : 강의 계획서 작성, 성적 입력 및 관리 등 교수들을 위한 관리 기능
- 공지사항 및 학사 일정 : 학교의 공지사항 및 학사 일정 등으로 학생이나 교수에게 정보 제공을 위한 플랫폼 기능

</aside>


<aside>

‼️ **기대 효과**

- 학사 관리 프로세스의 효율성 및 정확성 향상
- 학생 및 교직원의 만족도 증가
- 대학 운영의 전반적인 효율성 향상

</aside>

### 프로젝트 아키텍쳐

**🥇BackEnd Data Flow**
<aside>

![Untitled](https://github.com/choiyuran/Simple_LMS/assets/44068819/a05fca9d-70ee-4469-be8a-60c98f8e5a6b)
  
</aside>

<br>

## 팀원 구성

<div align="center">

|                                                                 **최유란[PM]**                                                                  |                                                                 **박소은**                                                                  |                                                                                     **이병길**                                                                                     |                                                                     **정수용**                                                                      |                                                                  **황민우**                                                                   |
|:--------------------------------------------------------------------------------------------------------------------------------------------:|:----------------------------------------------------------------------------------------------------------------------------------------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:------------------------------------------------------------------------------------------------------------------------------------------------:|:------------------------------------------------------------------------------------------------------------------------------------------:|
| [<img src="https://avatars.githubusercontent.com/u/133099209?s=64&v=4" height=150 width=150> <br/> @choiyuran](https://github.com/choiyuran) | [<img src="https://avatars.githubusercontent.com/u/131752096?s=64&v=4" height=150 width=150> <br/> @soeun21](https://github.com/soeun21) | [<img src="https://avatars.githubusercontent.com/u/44068819?s=400&u=a1b8a0231ed86addc10bbfbac63eee55d03cca41&v=4" height=150 width=150> <br/> @LeeBG](https://github.com/LeeBG) | [<img src="https://avatars.githubusercontent.com/u/134127144?s=64&v=4" height=150 width=150> <br/> @RightAccept](https://github.com/RightAccept) | [<img src="https://avatars.githubusercontent.com/u/112646719?s=64&v=4" height=150 width=150><br/>@hwangminu](https://github.com/hwangminu) |

</div>

<br>

## 1. 개발 환경

- Front : HTML, Thymeleaf, css, JavaScript, jQuery
- Back-end  : IntelliJ IDEA, JDK 11
- 버전 및 이슈관리 : Github, Github Issues, Github Project
- 협업 툴 : Discord, Notion, Kakao Talk
- 서비스 배포 환경 : Aws CodeDeploy, AWS EC2 Ubuntu, AWS S3, Github Action

<br>

## 2. 채택한 개발 기술과 브랜치 전략

### Thymeleaf

- 서버 사이드 자바 템플릿 엔진으로, 순수 HTML을 이용하여 뷰를 구성할 수 있게 해줍니다.
- 자연스러운 템플릿을 위한 우수한 통합성과 스프링 프레임워크와의 뛰어난 호환성을 제공합니다.
- 브라우저에서 직접 열 수 있는 정적 프로토타입을 동적인 웹 애플리케이션으로 쉽게 전환할 수 있습니다.

### Apache POI

- 자바 환경에서 마이크로소프트 오피스 파일 포맷을 읽고 쓸 수 있게 해주는 라이브러리입니다.
- 엑셀, 워드 등 다양한 오피스 파일 포맷을 처리할 수 있어 데이터 보고서나 문서 생성 자동화에 유용합니다.
- 풍부한 기능을 제공하여 복잡한 데이터를 처리하고, 사용자 정의 포맷팅이나 스타일을 적용할 수 있습니다.
- 프로젝트에서는 학생 등록기능을 위한 엑셀파일을 다루는데 사용하여 엑셀 데이터 처리에 많은 도움을 얻었습니다.

### Spring Data JPA

- 스프링 기반 애플리케이션에서 데이터 접근 계층을 쉽고 효율적으로 구현할 수 있게 해주는 모듈입니다.
- 리포지토리 계층에 대한 구현 없이 인터페이스만으로 CRUD 연산을 쉽게 사용할 수 있습니다.
- 객체 지향적인 데이터 접근을 제공하며, 복잡한 검색 쿼리도 쉽게 구현할 수 있게 해줍니다.

### QueryDSL

- 타입 안전한 쿼리를 위한 프레임워크로, 복잡한 쿼리와 다이나믹 쿼리를 코드 수준에서 쉽게 구현할 수 있습니다.
- 컴파일 시점에 오류를 발견할 수 있어 안정성이 높으며, 코드 자동 완성 기능을 통해 개발 생산성을 향상시킵니다.
- 다양한 데이터 저장소(JPA, JDO, SQL, NoSQL)에 대한 지원으로 확장성이 뛰어납니다.

### 브랜치 전략

- Git-flow 전략을 기반으로 main, develop 브랜치와 feature 보조 브랜치를 운용했습니다.
- main, test, team 브랜치로 나누어 개발을 하였습니다.
    - **main** 브랜치는 배포 단계에서만 사용하는 브랜치입니다. test에 개발이 완료된 부분들을 붙여서 배포서버에 적용합니다.
    - **test** 브랜치는 개발 단계에서 git-flow의 master 역할을 하는 브랜치입니다.
    - **team1,2,3,4,5,6** 브랜치는 개인별로 한개 씩 나눈 브랜치이며 기능 단위로 독립적인 개발 환경을 위하여 사용하고 merge 후 각 브랜치를 삭제할 것입니다.

<br>

## 3. 프로젝트 구조

```
├── README.md
├── gradlew
├── .gitignore
├── appspec.yml
├── build.gradle
├── gradlew.bat
├── settings.gradle
│
├── .github
│    └── workflows
│         └── deploy.yml
├── src
│    └── main
│         └── java
│              └── com
│                    └── itbank
│                           └── simpleboard
│                                └──  component
│                                └──  config
│                                └──  controller
│                                └──  dto
│                                └──  entity
│                                └──  handler
│                                └──  interceptor
│                                └──  repository
│                                        └──  manager
│                                        └──  professor
│                                        └──  student
│                                        └──  user
│                                └──  service
│                                └──   initDB.java
│                                └──   SimpleboardApplication.java
│           └── resources
│                   └── static
│                          └──  css
│                          └──  excelForm
│                          └──  img
│                          └──  js
│                          └──  scss
│                          └──  vendor
│                   └── templates
│                            └──  common
│                            └──  layout
│                            └──  manage
│                            └──  professor
│                            └──  student
│ 
│     └── test    
```

<br>

## 4. 역할 분담

### 🍊최유란

- **UI**
    - 페이지 : 인원/목록 조회, 수정, 강의 등록, 상세보기
    - 공통 : 강의 상세보기, 공지사항, 학사일정
- **기능**
    - 페이징, QueryDSL 조건 검색, 공지사항 등록 및 수정, 강의 등록 및 수정/상세보기, 강의실 사용 시간 체크, 교수/학생 조회 및 수정, 학과 조회 및 등록, 학생 상태 변경, 장학금 조회

<br>

### 👻박소은

- **UI**
    - 페이지 : 학생 등록, 학생 등록 리스트 확인
    - 공통 컴포넌트 : 공통 테이블 형식, 검색 조건창
- **기능**
    - 파일 업로드/다운로드, 학생 정보 등록 및 수정, QueryDSL 조건 검색

<br>

### 😎정수용

- **UI**
    - 페이지 : 강의 조회, 강의 평가 조회
    - 공통 컴포넌트 : 
- **기능**
    - 일부 페이징, QueryDSL 조건 검색, 강의 조회/검색, (교수)성적 입력, 파일 업로드/다운로드, 로그인/로그아웃/비밀번호 찾기, 회원 정보 수정

<br>

### 🐬이병길

- **UI**
    - 페이지 : 수강신청 페이지 , 등록페이지 초안
    - 공통 컴포넌트 : 타임리프 head, header, footer 분리
- **기능**
    - 일부 페이징, querydsl 조건 검색, 수강신청, 강의평가, 등록금 납부 및 조회 등 학생 관련 기능 구현
- **배포**
    - CI/CD GitHub Action을 이용한 배포 자동화 완성, AWS EC2 배포 로직 및 쉘 스크립트 작성

<br/>

### ⚾ 황민우

- **UI**
    - 페이지 : 사용자 프로필 페이지
    - 공통 컴포넌트 : 탑배너, 하단 모달창
- **기능**
    - 팔로우 & 언팔로우, 로그아웃, 하단 모달창, 댓글 삭제, 게시글 삭제, 상품 삭제, 사용자 게시글 앨범형 이미지, 탑 배너 뒤로가기 버튼, Alert 모달

<br>

## 5. 개발 기간 및 작업 관리

### 개발 기간

- 전체 개발 기간 : 2024-01-02 ~ 2024-03-13
- UI 구현 : 2024-01-11 ~ 2024-01-26
- 기능 구현 : 2024-02-17 ~ 2024-03-04
- 기능 테스트 : 2024-03-05 ~ 2024-03-13

<br>

### 작업 관리

- GitHub Projects와 Notion 회의록을 사용하여 진행 상황을 공유했습니다.
- 주간회의를 진행하며 작업 순서와 방향성에 대한 고민을 카카오톡에서 나누고 회의록에 작성하여 해결했습니다.

<br>

## 6. 신경 쓴 부분

- [정리된 문서 링크](https://www.notion.so/LMS_Project-e7234c6b890f4e6da95cb00f93315cd9?pvs=4#0608da2fd7094af4b8fd08bf1d541042)

<br>

## 7. 페이지별 기능

### **공통기능**

### [초기화면 - 로그인]

- 먼저 초기화면인 로그인 화면입니다. 기본적으로 로그인을 해야 전체 시스템을 이용할 수 있습니다.
- 로그인 아이디를 기억하는 쿠키방식을 적용했고, 비밀번호 찾기로 잃어버린 내 비밀번호를 찾을 수 있는 링크로 연결됩니다.
- 로그인에 성공하면 자신의 신분(학생,교직원,교수)에 따라 다른 홈 화면으로 진입합니다.

| 초기화면                                                                                                      |
|-----------------------------------------------------------------------------------------------------------|
| ![초기화면-로그인](https://github.com/choiyuran/Simple_LMS/assets/44068819/f27fa4f2-a492-4552-a19e-850c96116913) |

<br>

### [공지사항 / 학사일정]

- 공지사항 및 학사일정은 로그인을 한 모든 사람이 열람할 수 있습니다.
- 하지만, 공지사항과 학사일정 등록,수정,삭제는 관리자의 권한이고 열람은 공통기능입니다.

| 공지사항                                                                                                  | 학사일정                                                                                                  |
|-------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
| ![공지사항](https://github.com/choiyuran/Simple_LMS/assets/44068819/cbf33951-f3f3-43ae-bfe7-9dc9d12f365b) | ![학사일정](https://github.com/choiyuran/Simple_LMS/assets/44068819/1a4acc50-e29b-486d-991d-3c0110044a76) |

<br>

## **교직원 기능**

### [교수/교직원 등록]

- 이메일 주소와 비밀번호를 입력하면 입력창에서 바로 유효성 검사가 진행되고 통과하지 못한 경우 각 경고 문구가 입력창 하단에 표시됩니다.
- 이메일 주소의 형식이 유효하지 않거나 이미 가입된 이메일일 경우 또는 비밀번호가 6자 미만일 경우에는 각 입력창 하단에 경구 문구가 나타납니다.
- 작성이 완료된 후, 유효성 검사가 통과된 경우 다음 버튼이 활성화되며, 버튼을 클릭하면 프로필 설정 화면이 나타납니다.

| 교수/교직원 등록                                                                                                |
|----------------------------------------------------------------------------------------------------------|
| ![교수 등록하기](https://github.com/choiyuran/Simple_LMS/assets/44068819/ffdf8907-01b9-4d10-82fc-7c4a191650e7) |

<br>

### [학생 등록]

- 학생 등록 기능은 교수 / 교직원 등록과는 다르게 한 번에 많은 학생이 한 학기에 입학하기 때문에 한번에 많은 데이터를 저장하기 위해 Excel로 등록합니다.
- 기본적으로 ExcelForm을 다운받을 수 있으며 Excel파일에 데이터를 어떻게 기입해야 하는지
- 작성이 완료된 후, 유효성 검사가 통과된 경우 다음 버튼이 활성화되며, 버튼을 클릭하면 프로필 설정 화면이 나타납니다.

| 학생 등록 엑셀폼 다운받기                                                                                              |                                                                                                        
|-------------------------------------------------------------------------------------------------------------|
| ![학생등록폼 다운로드](https://github.com/choiyuran/Simple_LMS/assets/44068819/b2b72a55-d81f-45b0-bfbd-b07fbb871082) |

| 학생 등록 (엑셀폼 등록하기)                                                                                      |                                                                                                        
|-------------------------------------------------------------------------------------------------------|
| ![학생등록](https://github.com/choiyuran/Simple_LMS/assets/44068819/988de115-6eb8-4cb9-b7d9-061b96ef2b5f) |

<br>

### [인원 조회 하기]

- 관리자는 학생, 교수, 교직원을 모두 조회할 수 있습니다.
- 조회할때 학생과 교수는 학과와 이름으로
- 교직원은 이름과 연락처로 검색할 수 있도록 했습니다.
- 페이징을 통해 한 페이지에 10개의 결과만을 보여줄 수 있고, 퇴사자를 포함한 검색, 학생은 오늘 등록된 신입 학생을 검색할 수 있습니다.

| 인원 조회하기 (대표로 학생 조회)                                                                                   |
|-------------------------------------------------------------------------------------------------------|
| ![학생조회](https://github.com/choiyuran/Simple_LMS/assets/44068819/b8269f31-21e9-400f-8310-81cc007bba86) |

<br>

### [학과 조회하기]

- 단과대학을 선택하면 해당 단과대학에 속하는 학과를 검색할 수 있습니다.
- 학과명으로도 검색이 가능합니다.

| 학과 조회하기                                                                                               |
|-------------------------------------------------------------------------------------------------------|
| ![학과조회](https://github.com/choiyuran/Simple_LMS/assets/44068819/1c6786e0-482f-4afc-9695-79bb51b2d05c) |

<br>

### [강의 조회]

- 전체 강의를 조회할 수 있으며, 학과, 강의 타입, 기간, 학기, 학년등 여러 조건에 따른 검색이 가능합니다.
- 폐강된 강의도 볼 수 있으며 한 페이지에 10건의 데이터를 검색할 수 있습니다.
- 강의상세보기를 통해 강의의 상세 내역을 조회할 수 있습니다.

| 강의 조회                                                                                                 |
|-------------------------------------------------------------------------------------------------------|
| ![강의조회](https://github.com/choiyuran/Simple_LMS/assets/44068819/079ae988-c1a9-4020-960e-9ff7edae8c86) |

<br>

### [강의 평가 내용 조회]

- 수강한 학생들이 이 강의에 대한 평가를 남기는 데 어떤 평가내용을 남겼는지 확인할 수 있습니다.
- 점수와 주관식 평가의 내용을 확인할 수 있다.
- A,B,C,D,E 로 A가 매우 그렇다, E가 매우 아니다 이다.
-

| 강의 평가 확인                                                                                                     |
|--------------------------------------------------------------------------------------------------------------|
| ![교직원-강의평가 보기](https://github.com/choiyuran/Simple_LMS/assets/44068819/9b4db0a0-afb2-485e-b5c6-86efd2126e6f) |

<br>

### [강의 등록]

- 교직원은 강의 등록을 할 수 있습니다.
- 강의 등록을 할 때 기존 강의의 강의실과 강의시간의 중복을 막는 로직이 적용되어있어 만약 중복이된다면 등록실패가 됩니다.
- 강의실과 강의시간이 겹치지 않을 경우 강의 등록에 성공 하게 됩니다.

| 강의등록 + 실패                                                                                                      |
|----------------------------------------------------------------------------------------------------------------|
| ![강의등록실패+강의등록성공](https://github.com/choiyuran/Simple_LMS/assets/44068819/2296dd44-1695-47a9-a16d-086ee4e54e85) |

<br>

### [강의 수정]

- 강의 수정의 경우에도 마찬가지로 중복여부를 체크합니다.
- 기존의 강의와 중복이 된다면 수정 실패로 뜨게 됩니다.

| 강의 수정                                                                                                 |
|-------------------------------------------------------------------------------------------------------|
| ![강의수정](https://github.com/choiyuran/Simple_LMS/assets/44068819/40d544fa-6083-43ea-8bc1-dd17d2d7a6b8) |

<br>

### [학생 등록금 납부 여부 조회]

- 교직원은 해당 학생이 등록금을 납부 했는지 아닌지 확인할 수 있습니다.
- 등록금을 내지 않은 학생에게는 미납이라는 문구가 나오고 등록금을 납부한 학생은 납부완료라는 문구가 뜨게 됩니다.

| 등록금 납부 여부 조회                                                                                                  |
|---------------------------------------------------------------------------------------------------------------|
| ![등록금 납부 여부 조회](https://github.com/choiyuran/Simple_LMS/assets/44068819/08d4184c-2d1d-4b18-aa0c-643eed510afc) |

<br>

### [장학금 리스트 및 등록하기]

- 장학금은 내부장학금, 외부장학금으로 분류되고 이를 교직원은 이를 등록할 수 있습니다.
- 장학금의 금액이 99999999라면 이것은 1학기 전액장학금이라는 뜻입니다.

| 장학금 리스트 및 등록하기                                                                                       |
|------------------------------------------------------------------------------------------------------|
| ![장학금](https://github.com/choiyuran/Simple_LMS/assets/44068819/ef7c6f71-0f60-4ce3-a1db-9575399361b8) |

<br>

### [내 정보보기]

- 내 정보확인이전에 비밀번호를 확인하는 절차를 거칩니다.
- 비밀번호가 확인되면 수정할 수 있는 내 정보내용이 보이고 수정할 부분들을 수정하고 이메일 인증을해서 수정을 마무리해주면 됩니다.
- 비밀번호를 수정할 때에는 기존의 비밀번호와 salt값으로 비밀번호가 일치하는지 검사하고 새로운 비밀번호로 수정합니다.
- 이 때, salt역시 새로운 salt로 갱신이되며 비밀번호는 새로운 salt값과 새로운 비밀번호 값으로 암호화되어 DB에 저장되는 형식입니다.

| 내 정보보기+ 내 정보수정 + 비밀번호 변경                                                                                       |
|----------------------------------------------------------------------------------------------------------------|
| ![내 정보보기 + 수정하기](https://github.com/choiyuran/Simple_LMS/assets/44068819/f5f3c3a0-c4e8-47ea-947e-6ea766be70fb) |

<br>

## **학생 기능**

### [수강 신청 기능]

- 교수,과목,학년으로 원하는 수강항목을 검색할 수 있습니다.
- 학생은 자신이 원하는 시간대와 원하는 학과에 대한 강의를 수강신청할 수 있습니다.
- 수강신청에 성공하면 곧 수강강의로 확정됩니다.
- 수강신청 요일과 시간이 겹치면 수강신청에 실패하게 됩니다. 그리고 수강 최대 인원을 초과하게 되면 수강신청이 불가합니다.

| 수강신청                                                                                                  |
|-------------------------------------------------------------------------------------------------------|
| ![수강신청](https://github.com/choiyuran/Simple_LMS/assets/44068819/ae8b90da-39bc-4ab1-b731-76848abd2bef) |

<br>

### [성적 확인]

- 학기가 끝나고 교수가 성적을 입력하면 내 강의들의 성적을 확인할 수 있습니다.
- 내 강의 성적들은 학기마다 확인할 수 있습니다.
- 학기별이 아닌 전체 성적을 조회할 수도 있습니다.

| 성적 확인                                                                                                 |
|-------------------------------------------------------------------------------------------------------|
| ![성적확인](https://github.com/choiyuran/Simple_LMS/assets/44068819/ed1c7c58-ef82-4999-9cd5-3894232e7e03) |

<br>

### [강의평가하기]

- 내가 수강하고 있는 강의가 마치면 교직원에 의해 강의평가 기간이 설정됩니다.
- 강의평가기간 내에 학생은 강의 평가를 할 수 있습니다.
- 강의평가는 A,B,C,D,E 로 선택할 수 있으며 A가 매우 긍정, E가 매우 부정입니다.
- 주관식 의견을 남길 수 있으며 강의 평가가 완료된 강의는 목록에 나타나지 않습니다.

| 강의 평가 하기                                                                                                  |
|-----------------------------------------------------------------------------------------------------------|
| ![강의 평가 하기](https://github.com/choiyuran/Simple_LMS/assets/44068819/1546b2e8-51d1-4093-a505-c24aeb845b3f) |

<br>

### [등록금 납부 확인 및 납부하기]

- 내가 속한 학과의 등록금과 내가 받은 장학금을 합산해서 내가 이번학기에 내야할 등록금을 확인할 수 있고
- 등록금을 납부할 수 있다.
- 등록금 납부는 실제로 납부할 수 없기 때문에 더미 계좌번호와 납부했다는 alert만을 남긴다.
- 사진의 해당 학생은 전액 장학금을 받았기 때문에 최종 납부금액이 0원인 모습을 알 수 있다.

| 등록금 납부                                                                                                       |
|--------------------------------------------------------------------------------------------------------------|
| ![등록금납부하기+리스트](https://github.com/choiyuran/Simple_LMS/assets/44068819/263bd3b8-ed6a-4ed5-a1d7-f9fb4114a6fd) |

<br>

### [휴학 신청 및 복학 신청]

- 학생은 휴학신청 및 복학 신청을 할 수 있습니다.
- 학생은 휴학신청 및 복힉 신청을 하고 교직원이 이를 승인해야 복학상태, 휴학상태로 전환됩니다.
- 휴학중인 학생만 복학신청을 할 수 있고 재학중인 학생만이 휴학신청을 할 수 있으며
- 신청 후 기한 설정이나 다른 실수가 있다면 신청을 취소할 수 있습니다.
- 휴학 및 복학 신청을 할 때에는 기간 설정을 잘 설정 해야 합니다. 휴학 시작일이 휴학 예상 종료일보다 뒤에 있다면 불가능하도록 막았습니다.

| 휴학 신청                                                                                                 | 복학 신청                                                                                                 |
|-------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
| ![휴학신청](https://github.com/choiyuran/Simple_LMS/assets/44068819/2535c47a-480d-4e95-92b7-e0439c3540ce) | ![복학신청](https://github.com/choiyuran/Simple_LMS/assets/44068819/f4e1e678-a780-428f-9a87-e98f3276a844) |

<br>

## **교수 기능**

### [학생 성적 입력 및 수정]

- 교수는 학생에게 성적을 부여할 권한이 있습니다.
- 자신의 강의를 듣는 학생의 성적을 부여할 수 있고 또 수정할 수 있습니다.
- 성적기입은 나의 강의 페이지에서 성적 입력을 선택하여 모달창에서 수행됩니다.

| 성적입력                                                                                                  | 성적 수정                                                                                                 |
|-------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
| ![성적입력](https://github.com/choiyuran/Simple_LMS/assets/44068819/fa25d7ff-947d-4a1a-a9fa-460eeb5b5d21) | ![성적수정](https://github.com/choiyuran/Simple_LMS/assets/44068819/e64a13f5-3f1b-4fd9-9640-1f3f3d4dccb5) |

<br>

### [강의 계획서 등록]

- 교수는 자신의 강의에 대해 강의 계획서를 등록할 수 있습니다.
- 강의 계획서를 등록을해야 강의 상세보기에서 학생들이 수업을 파악하고 수강친청을 할 수 있도록 정보를 제공할 수 있습니다.

| 강의 계획서 등록                                                                                                 |
|-----------------------------------------------------------------------------------------------------------|
| ![강의계획서 등록](https://github.com/choiyuran/Simple_LMS/assets/44068819/41df58cb-ba54-4a3e-ba3c-12ae47116539) |

<br>

## 8. 트러블 슈팅

- **FrontEnd**

  🍃 **ThymeLeaf 문제 해결 사례**

  | 문제 상황                                  | 해결 방법                                                    |
  |--------------------------------------------|--------------------------------------------------------------|
  | Header에 이미지를 띄우는 과정에서 ThymeLeaf 예외 발생 | `StudentDto`에 `null` 값을 가지는 `img` 필드 추가 |
  | 학과 목록에 페이징 적용 후, 검색 결과가 없다는 문구를 띄워주는 부분에서 타임리프 예외 발생 | `th:if` 조건을 리스트가 `null`이거나 `isEmpty()` 비어있는지 확인하도록 수정 |
  | `th:if` 조건으로 `null` 체크를 진행할 때, 검색 결과가 없을 경우 `null` 예외가 뜨는 문제 | `list = Page.empty()` 로 빈 페이지를 담아서 반환해주는 방법으로 해결 |

  📤 **Redirection 문제 해결 사례**

  | 문제 상황                             | 해결 방법                                                    |
  |---------------------------------------|--------------------------------------------------------------|
  | 비밀번호 찾기 관련 ajax를 실행하면 로그인 페이지가 새로고침 됨 | `MvcConfig`에 실행하려는 ajax 주소를 화이트리스트로 등록 |

  🔍 **Search 문제 해결 사례**

  | 문제 상황                                   | 해결 방법                                                    |
  |---------------------------------------------|--------------------------------------------------------------|
  | 페이지가 넘어갔을 때 체크 박스를 포함한 검색을 다시 시도하면 검색어가 초기화 되는 문제 | 목록으로 버튼을 클릭할 시에만 검색 조건이 초기화 되게 설정 |
  | 다른 페이지로 이동 후 해당 페이지를 새로 로딩해도 검색했던 검색어가 input과 select에 그대로 남아있는 문제발생 | `@GetMapping`을 사용한 검색 방식으로 수정하여 controller에서 넘어온 검색어 파라미터 값이 존재하면 value로 다시 넘기도록 수정 |

- **BackEnd**

  ⚙ **Entity 문제 해결 사례**

  | 문제 상황                                 | 해결 방법                                                    |
  |-------------------------------------------|--------------------------------------------------------------|
  | `User` 엔티티의 `userid`와 주민번호에 Unique 제약 조건이 걸리지 않는 문제 | `@Column(length=xx)`을 추가하여 크기 제한을 추가 |
  | `Professor`와 `Manager` 엔티티의 퇴사 여부가 전부 1로 들어가 있는 문제 | 퇴사 여부 필드에 `@Enumerated(EnumType.STRING)` 작성 |
  | 공지사항을 작성할 때, 공지사항의 내용이 길어지면 예외가 발생 | `content` 필드에 `@Lob`을 사용하여 자료형에 맞게 BLOB 또는 CLOB으로 변경 |

  ⌛ **Running Time 문제 해결 사례**

  | 문제 상황                                 | 해결 방법                                                    |
  |-------------------------------------------|--------------------------------------------------------------|
  | `lectureList`의 로딩 시간이 너무 오래 걸리는 문제 | `LectureList`를 받아오고, 해당 List에 존재하는 `Major`들을 받아오는 방식으로 수정 |
  | ID와 Password를 입력하지 않고 로그인 시도 시 `NullPointerException` 발생 | `String.isEmpty()`를 사용하여 ID와 Password가 비어있지 않을 때만 기존 로그인 메서드를 실행 |

  **Convert 문제 해결 사례**

  | 문제 상황 | 설명 |
  | --- | --- |
  | **AcademicalCalendar Entity를 DTO로 변환하는 과정에서, 날짜에 null이 들어가는 문제** | **원인:** Entity에는 Date 타입, DTO에는 LocalDate 타입이라 변환 과정에서 null이 들어갔던<br>**해결:** Entity의 타입을 LocalDate타입으로 수정 |
  | **DB에서 가져온 시작일, 종료일을 View 페이지로 전달 시 예외 발생** | **원인:** SimpleDateFormat을 사용하여 시작일과 종료일을 String 타입으로 변환 후 전달하는데, 변환 과정에서 null 체크를 진행하지 않아 예외가 발생한 것<br>**해결:** Parsing 대상에 값이 존재하는지 확인하는 Null 체크 구문 작성 |
  | **Session에서 user를 받아온 후, ManagerLoginDto로 다운캐스팅을 하기 위해 UserDTO에 있는 role에 접근하는 과정에서 예외 발생** | **원인:** user라는 이름으로 ManagerLoginDto, ProfessorDto, StudentDto가 들어가 있고, 해당 DTO 내부에 UserDTO가 존재하기 때문에 이중으로 다운캐스  팅 되어야 하는 것이 원인<br>**해결:** user를 Object로 받아온 후, 조건문을 사용하여 각 DTO로 다운캐스팅이 되는지 확인 후 다운캐스팅을 진행 |

    ```java

    Object user = session.getAttribute("user");
    if (user instanceof ManagerLoginDto) {
        ManagerLoginDto manager = (ManagerLoginDto) user;
    }

    ```


  **Insert**

  | 문제 상황 | 설명 |
  | --- | --- |
  | **Fetch API 방식을 이용해서 교수, 교직원 등록 시 서버에 데이터 저장은 되지만, 클라이언트 측으로 응답이 가지 않음: Completed 500 INTERNAL_SERVER_ERROR** | **원인:** CORS 이슈, 서버 응답 처리, 네트워크 문제, 요청 헤더 설정, 요청 본문 데이터, 서버 측 로깅 등 다양한 원인 중 명확한 이유를 찾지 못함<br>**해결:** jQuery의 `$.ajax()` 함수를 사용하여 비동기적으로 서버에 요청을 보낸 후 서버 응답에 대한 처리를 success와 error 콜백 함수로 처리. 서버 응답이 JSON 형식인 경우 해당 데이터를 처리하고, 추가적인 로직을 수행 |
  | **성적을 입력하고 제출하면 서버에서 NullPointerException 발생** | **원인:** 자바스크립트에서 `enrollment_idx`를 전달하지 못한 상태에서, `map.get("enrollment_idx");`을 통해 받으려고 했기 때문<br>**해결:** `enrollment_idx`를 받아오지 못한 원인이 List를 받아오는 과정에 있다고 판단하여 ProfessorRepositoryCustomImpl을 확인하였고, `enrollment_idx`를 받아오는 구문이 삭제된 것을 발견하여 다시 작성 |

  **Modify**

  | 문제 상황 | 설명 |
  | --- | --- |
  | **강의 수정을 진행하는 중 form으로 데이터를 넘기면 null이 들어감** | **원인:** 요일, 시작 시간과 끝 시간을 String 배열로 받았기 때문에, 데이터가 존재하지 않으면 배열도 존재하지 않기 때문에 null이 들어간 것<br>**해결:** 입력 받은 String배열의 길이만큼 반복하여 null이 아닌 값만 새로 생성한 StringBuilder에 담아서 DB 데이터를 수정 |
  | 이미 입력된 성적을 수정할 때 update가 아닌 insert 되는 문제 | Service에서 Grade 엔티티를 새로 생성하고 save 메서드를 사용했기 때문                              | enrollment_idx를 통해 Grade 테이블에 작성된 성적이 있는지 확인한 후, 있다면 해당 엔티티를 수정하고, 없다면 새로운 Grade 객체를 생성하여 DB에 넣도록 작성 |

  **QueryDSL**


  | 문제 상황 | 설명 |
  | --- | --- |
  | 강의 평가 중복                                   | QueryDSL의 innerJoin에서 조인문의 오류로 문제 발생                                               | 복잡한 innerJoin을 정리하고 수강신청 EnrollmentDTO 강의평가가 없는 경우의 리스트를 새로 받아 반복문으로 비교해서 중복을 제거했다.                     |
  | QueryDSL을 사용하여 ProfessorDTO를 받아오는 과정에서 major 이름을 college 이름으로 받아오는 문제 | ProfessorDTO에는 MajorDTO가 존재하고, MajorDTO에는 name과 college_name이라는 필드가 존재한다. ProfessorDTO 내부에서 MajorDTO를 생성할 때 Entity에서 같은 필드명을 사용하는 name이 문제가 되어 major.name이 아닌 major.college.name이 들어간 것이 원인으로 추측 | MajorDTO에 데이터 받아올 때 college 관련 필드들은 as를 사용하여 필드 이름을 직접 연결하여 해결 |
  | 성적 조회를 위해 GradeLectureDto를 가져오면서 InvalidPathException: Invalid path: 'grade.score' 발생 | 해당 메서드의 from을 QLecture.lecture로 작성하였는데, Lecture 엔티티에는 grade 라는 필드가 존재하지 않고, Grade 엔티티와 연결할 조인문을 작성하지 않았기 때문 | from을 QLecture.lecture 그대로 사용하는 대신, Grade와 연결해 줄 Enrollment와 조인해주고, Enrollment를 사용하여 Grade의 값을 받아오도록 수정 |
  | 강의목록 불러오는 과정에서 eq(null) is not allowed. Use isNull() instead; 라는 에러 메시지 출력 | where 조건을 작성하기 위해 eq 메서드를 사용할 때, 검색 조건 매개변수에 대한 null체크를 진행하지 않았기 때문에 발생한 문제 | eq 메서드를 사용하기 전, null 체크를 진행하 null이 아닐 때는 eq 비교를, null일 때는 null을 반환하도록 메서드 작성 |
  | @PageableDefault (sort=”idx”) 어노테이션이 적용되지 않음 | QueryDSL을 사용하는 경우에는 QueryDSL이 어노테이션 보다 우선시 되어서  @PageableDefault (sort=”idx”) 어노테이션이 적용되지 않음 | QueryDSL에서 내림차순으로 가져올 수 있도록 OrderBy 적용 |
  | 로그인 시 “학번 기억하기”에 체크가 되어있지 않으면 예외 페이지로 이동하는 문제 | “학번 기억하기”의 값을 @RequestParam으로 가져올 때, Required가 기본값 true로 설정되어 있었기 때문 | @RequestParam의 Required를 false로 설정하고, 값이 없으면 조건문에 들어갈 때 예외가 발생하기 때문에 defaultValue를 “false”로 설정 |

    ```java
  
     BooleanExpression studentIdxCondition = condition.getStudentIdx() != null ?
                    enrollment.student.idx.eq(condition.getStudentIdx()) : null;
    
     BooleanExpression semesterCondition = condition.getSemester() != null ?
                    enrollment.lecture.semester.eq(condition.getSemester()) : null;
  
    ```
  
  
  🍪 **쿠키**

  | 문제 상황 | 로그인 시 “학번 기억하기”에 체크가 되어있지 않으면 예외 페이지로 이동하는 문제 |
  | --- | --- |
  | 원인 | “학번 기억하기”의 값을 @RequestParam으로 가져올 때, Required가 기본값 ture로 설정되어 있었기 때문 |
  | 해결 | @RequestParam의 Required를 false로 설정하고, 값이 없으면 조건문에 들어갈 때 예외가 발생하기 때문에 defaultValue를 “false”로 설정 |


<br>

## 9. 개선 목표

- 정적분석 - 중복된 코드가 많고, 코드 스멜(Code Smell)과 불필요한 반복으로 복잡도가 높아 효율이 떨어진다. 이를 개선해 부하를 줄여야할 필요가 있다.
- 기능적으로 부족한 부분들이 많다. 중복 해결 동시성 문제 해결 등
- 채팅기능이나 알림기능을 웹소켓을 사용해서 구현하고 싶다.
- 부하테스트 부족으로 많은 부하 발생시 이를 해결할 필요가 있다.

<br>

## 10. 프로젝트 후기

### 🍊 최유란 

학사관리 시스템 프로젝트를 하면서 새로운 것을 배우고 경험할 수 있었습니다. 이 프로젝트에서 스프링부트, JPA, 그리고 QueryDSL 같은 기술을 쓰면서 개발을 진행했는데 이런 기술들 덕분에 데이터를 효율적으로 다루고 복잡한 쿼리도 쉽게 작성할 수 있었던게 큰 경험이었습니다. 
이번 프로젝트를 통해 기술적으로도 많이 성장했고, 팀워크와 프로젝트 관리 능력도 함께 더 발전할 수 있었습니다. 서로의 기술과 지식을 공유하고, 함께 문제를 해결해 나가는 과정에서 많은 것을 배울 수 있었습니다. 
프로젝트를 진행하면서 완벽하게 처리하지 못한 부분들도 있어서 아쉬움이 남기도 하지만 함께 프로젝트를 진행했던 팀원들 모두 고생하셨습니다!!

<br>

### 👻 박소은 

수료이후 새롭게 팀 프로젝트를 진행하며 많은 것들을 배우고 경험할 수 있었던 시간을 보낸것 같습니다. 
스터디를 통해 배운 SpringDataJPA와 QueryDSL을 사용해보기 위해 시작한 프로젝트였어서 쉽게 생각했지만 Entity 설계후 프로젝트가 점점 진행되며 생각하지 못했던 많은 부분들이 있어서 수정에 어려움을 겪기도 했습니다. 원인을 알 수 없는 오류로 많은 시간을 헤매었던 적도 있었지만 팀원들이 있었기 때문에 프로젝트를 마무리 할 수 있었던것 같습니다. 
프로젝트를 마무리하면서 체계적으로 설계/기록 하지 못했던 부분들이 더욱 아쉽게 다가왔지만 그 또한 더 완성도 있는 프로젝트를 만들기 위한 과정이라고 생각됩니다.
개인적으로 부족했던 부분들이 많았는데 많이 도와주고 알려준 팀원들에게 감사하단 말을 전하고 싶습니다. 모두 감사합니다.


<br>

### 😎 이병길 

팀프로젝트를 진행하면서 정말 많은 것을 배웠습니다. 국비 취업과정을 통해 배운 지식과 최근에 새롭게 배운 SpringDataJPA와 QueryDSL을 사용해서 새로운 프로젝트를 만들게 되었는데 처음에는 정말 간단하게
끝낼 수
있을 것 같다는 생각이 들었지만 생각보다 학사관리시스템에는 많은 디테일들이 들어가있구나라는 생각을 하게 되었고 특히나 시간관련된 처리는 처음 QueryDSL로 프로젝트를 진행하는데 많은 난관들이 있었습니다. 이러한
난관들을
극복해 나가면서 많은 보람을 느꼈고 다음에는 좀 더 능숙해 져서 완성도 있는 프로젝트를 만들어서 현업에서 사용하고 싶다는 생각이 들었습니다. 우리 팀원들 다들 고생많으셨습니다.
다들 좋은 곳으로 취업에 성공하셨으면 좋겠습니다.

<br>

### 🐬 정수용 

팀원들과 서로 의견을 나누고, 모르는 것이 있으면 서로 가르쳐주며 작업하는 과정이 너무 즐거웠습니다.
제대로 사용해보지 못했던 Git을 통합 협업 능력을 쌓을 수 있었고, 직접 사용해보지 못했던 SprignDataJPA와 QueryDSL을 실제로 사용하며 많은 것을 배울 수 있었습니다.
Entity 설계를 완료했다고 생각했지만, 작업 과정에서 필드가 추가되는 과정과 더미 데이터를 넣는 과정에서 DB의 개념적 설계와 논리적 설계의 중요성을 다시 한 번 깨달을 수 있었습니다.
작업할 당시에는 "이만하면 완벽하지!" 라고 생각했던 결과물이 프로젝트 마무리를 하는 과정에서 부족한 부분들이 눈에 들어오는 것이 아쉽습니다.
이번 프로젝트를 기반으로 다음 프로젝트와 현업에서는 조금 더 완성도 있는 결과물을 완성할 수 있을 것 같습니다.
막내로써 형, 누나들에게 좋은 모습을 보이려고 했는데 잘 됐는지 모르겠습니다.
우리 팀원 모두 좋은 곳에 취직하고, 앞으로도 자주 만날 수 있었으면 좋겠습니다. 다들 화이팅!!

<br>

### ⚾ 황민우 

컨벤션을 정하는 것부터 Readme 파일 작성까지 전 과정을 진행하려니 처음 생각보다 많은 에너지를 썼어요. 좋은 의미로 많이 썼다기보다, 제 능력을 십분 발휘하지 못해서 아쉬움이 남는 쪽입니다. 개발한다고 개발만
해서는 안 된다는 것을 몸소 느껴보는 기간이었던 것 같습니다. 이번 기회로 프로젝트를 진행하면서, 제가 잘하는 점과 부족한 점을 확실하게 알고 가는 건 정말 좋습니다. 기술적인 부분에 있어서는 리액트의 컴포넌트화가
주는 장점을 알았습니다. 조금 느린 개발이 되었을지라도 코드 가독성 부분에 있어서 좋았고, 오류가 발생해도 전체가 아닌 오류가 난 컴포넌트와 근접한 컴포넌트만 살펴보면 수정할 수 있는 부분이 너무 편했습니다. 모두
고생 참 많으셨고 리팩토링을 통해 더 나은 프로젝트 완성까지 화이팅입니다.
